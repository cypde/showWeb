(()=>{var e={};e.id=814,e.ids=[814],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},7492:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=a(7096),i=a(6132),s=a(7284),n=a.n(s),o=a(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c=["",{children:["upcoming",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4364)),"D:\\work\\qz\\showWeb\\musician-website\\app\\upcoming\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3497)),"D:\\work\\qz\\showWeb\\musician-website\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\work\\qz\\showWeb\\musician-website\\app\\upcoming\\page.jsx"],m="/upcoming/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/upcoming/page",pathname:"/upcoming",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6076:(e,t,a)=>{Promise.resolve().then(a.bind(a,9729))},9729:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=a(784),i=a(9885),s=a(1413),n=a(9934),o=a(9718);let __WEBPACK_DEFAULT_EXPORT__=()=>{let{t:e}=(0,o.$)(),[t,a]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0),[d,m]=(0,i.useState)(1),[p,u]=(0,i.useState)(1),[x,h]=(0,i.useState)(0);(0,i.useEffect)(()=>{let fetchPerformances=async()=>{try{let e=(d-1)*5,{data:t,error:r,count:i}=await n.Z.from("performances").select("*",{count:"exact"}).eq("is_active",!0).order("date",{ascending:!0}).range(e,e+5-1);r?console.error("获取演出信息失败:",r):(a(t||[]),h(i||0),u(Math.ceil((i||0)/5)))}catch(e){console.error("获取数据失败:",e)}finally{c(!1)}};fetchPerformances()},[d]);let handlePageChange=e=>{e>=1&&e<=p&&(m(e),window.scrollTo({top:0,behavior:"smooth"}))};if(l)return r.jsx(s.Z,{children:r.jsx("div",{className:"flex justify-center items-center h-screen",children:r.jsx("p",{children:"Loading..."})})});let g=t.length>0?t:[{id:1,title:"Royal Albert Hall",location:"London, UK",date:"2024-03-15",time:"19:30",description:"Solo recital featuring works by Bach, Handel, and Purcell",image_url:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=opera%20stage%20performance%20venue%2C%20elegant%20interior%2C%20concert%20hall%2C%20royal%20albert%20hall&image_size=landscape_16_9"},{id:2,title:"La Scala",location:"Milan, Italy",date:"2024-04-22",time:"20:00",description:"Performances in Mozart's Le nozze di Figaro as Cherubino",image_url:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=opera%20house%20interior%2C%20grand%20stage%2C%20luxury%20venue%2C%20la%20scala&image_size=landscape_16_9"},{id:3,title:"Carnegie Hall",location:"New York, USA",date:"2024-05-10",time:"19:30",description:"Collaboration with the New York Philharmonic Orchestra",image_url:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=concert%20hall%20interior%2C%20modern%20design%2C%20orchestra%20stage%2C%20carnegie%20hall&image_size=landscape_16_9"},{id:4,title:"Berlin Philharmonie",location:"Berlin, Germany",date:"2024-06-05",time:"20:00",description:"Recital with pianist Daniel Barenboim",image_url:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=modern%20concert%20hall%20interior%2C%20orchestra%20stage%2C%20berlin%20philharmonie&image_size=landscape_16_9"},{id:5,title:"Sydney Opera House",location:"Sydney, Australia",date:"2024-07-18",time:"19:30",description:"Performances in Bizet's Carmen as the title role",image_url:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=opera%20house%20interior%2C%20iconic%20design%2C%20sydney%20opera%20house&image_size=landscape_16_9"}],_=0===t.length;return r.jsx(s.Z,{children:r.jsx("section",{className:"py-20 px-4 md:px-8 lg:px-16",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-16 text-center",children:e.upcoming.title}),r.jsx("div",{className:"space-y-12",children:g.map(t=>(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center bg-gray-50 p-8 rounded-lg hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"md:w-1/3 mb-6 md:mb-0 md:pr-8",children:r.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-64 object-cover rounded"})}),(0,r.jsxs)("div",{className:"md:w-2/3",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:t.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:t.location}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-8 mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-bold uppercase text-gray-500 mb-1",children:"Date"}),r.jsx("p",{className:"text-lg",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-bold uppercase text-gray-500 mb-1",children:"Time"}),r.jsx("p",{className:"text-lg",children:t.time})]})]}),r.jsx("p",{className:"text-lg mb-6",children:t.description}),r.jsx("a",{href:"#",className:"inline-block bg-black text-white px-8 py-3 font-bold hover:bg-gray-800 transition-colors",children:e.upcoming.bookTickets})]})]},t.id))}),!_&&p>1&&(0,r.jsxs)("div",{className:"mt-16 flex justify-center items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>handlePageChange(d-1),disabled:1===d,className:`px-4 py-2 rounded-md ${1===d?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-black text-white hover:bg-gray-800"}`,children:"Previous"}),(()=>{let e=[],t=Math.max(1,d-Math.floor(2.5)),a=t+5-1;a>p&&(t=Math.max(1,(a=p)-5+1));for(let r=t;r<=a;r++)e.push(r);return e})().map(e=>r.jsx("button",{onClick:()=>handlePageChange(e),className:`px-4 py-2 rounded-md ${d===e?"bg-black text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:e},e)),r.jsx("button",{onClick:()=>handlePageChange(d+1),disabled:d===p,className:`px-4 py-2 rounded-md ${d===p?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-black text-white hover:bg-gray-800"}`,children:"Next"})]}),(0,r.jsxs)("div",{className:"ml-8 text-gray-600",children:["Page ",d," of ",p," (",x," items)"]})]})]})})})}},4364:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>l});var r=a(5153);let i=(0,r.createProxy)(String.raw`D:\work\qz\showWeb\musician-website\app\upcoming\page.jsx`),{__esModule:s,$$typeof:n}=i,o=i.default,l=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[472,702,326,120,718],()=>__webpack_exec__(7492));module.exports=a})();